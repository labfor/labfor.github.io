(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{307:function(e,a,s){"use strict";s.r(a);var t=s(0),r=Object(t.a)({},(function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"local-development"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#local-development"}},[e._v("#")]),e._v(" Local Development")]),e._v(" "),s("h2",{attrs:{id:"information"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#information"}},[e._v("#")]),e._v(" Information")]),e._v(" "),s("p",[e._v("If you here you may be interested in improving core VuePress.")]),e._v(" "),s("p",[e._v("VuePress is using a combo with "),s("a",{attrs:{href:"https://yarnpkg.com/lang/en/docs/workspaces/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Yarn workspaces"),s("OutboundLink")],1),e._v(" and "),s("a",{attrs:{href:"https://github.com/lerna/lerna",target:"_blank",rel:"noopener noreferrer"}},[e._v("Lerna"),s("OutboundLink")],1),e._v(".")]),e._v(" "),s("h2",{attrs:{id:"init-packages"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#init-packages"}},[e._v("#")]),e._v(" Init packages")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" bootstrap // it will run and "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" into the root all packages subfolders\n")])])]),s("p",[s("code",[e._v("yarn bootstrap")]),e._v(" will use hoisting. What does it mean for you ?")]),e._v(" "),s("p",[e._v("It will regroup all dependencies in the workspace root and link all packages.")]),e._v(" "),s("p",[e._v("Check the link by running the following command:")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("    "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("ls")]),e._v(" -la node_modules/@vuepress\n")])])]),s("p",[e._v("You will all symlinks")]),e._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),s("p",[e._v("You have to take care to declare all dependencies inside subFolders package.json. When publish the lib if dependencies from a package is not declare it will just not work.")])]),e._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),s("p",[e._v("There is a special package you should have a look is @vuepress/shared-utils that are in typescript.")])]),e._v(" "),s("p",[e._v("After install everything it will run "),s("code",[e._v("yarn tsc")]),e._v(". This command will tell to @vuepress/shared-utils workspace to compile his js.")]),e._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),s("p",[e._v("From here if you are making change inside this package you will have to\nrun "),s("code",[e._v("yarn tsc")]),e._v(" all the time or run in separate shell "),s("code",[e._v("yarn run tsc -w")]),e._v(". This will re run tsc at any change from shared-utils")])]),e._v(" "),s("h2",{attrs:{id:"link"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#link"}},[e._v("#")]),e._v(" Link")]),e._v(" "),s("p",[e._v("Good from here you have everything ready. You need to link VuePress to your project.")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" register-vuepress\n")])])]),s("p",[e._v("You will have something like this: "),s("code",[e._v('success Registered "vuepress".')])]),e._v(" "),s("p",[e._v("It will link the package VuePress from "),s("code",[e._v("packages/vuepress")]),e._v(". You will have access to VuePress cli and packages.")]),e._v(" "),s("p",[e._v("They are declared in the "),s("code",[e._v("packages/vuepress/package.json")])]),e._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"main"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"index.js"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("///")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"bin"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"vuepress"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"cli.js"')]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("///")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),s("p",[e._v("Now go to your project and run "),s("code",[e._v("yarn link vuepress")]),e._v(".")]),e._v(" "),s("p",[e._v("You should have it "),s("code",[e._v('success Using linked package for "vuepress".')])]),e._v(" "),s("h2",{attrs:{id:"unlink"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#unlink"}},[e._v("#")]),e._v(" Unlink")]),e._v(" "),s("p",[e._v("You may want to unlink everything. For it in the workspace root folder. Run")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" unregister-vuepress\n")])])]),s("p",[e._v("Now you can run "),s("code",[e._v("yarn unlink vuepress")]),e._v(" into your project folder.")]),e._v(" "),s("p",[e._v("If everything work properly you should have an error telling you there is no package found called vuepress, if you run "),s("code",[e._v("yarn link vuepress")]),e._v(" in you project folder.")]),e._v(" "),s("h2",{attrs:{id:"bugs-qa"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bugs-qa"}},[e._v("#")]),e._v(" BUGS / QA")]),e._v(" "),s("p",[e._v("You will maybe find some difficulty with link. If you encounter something like "),s("code",[e._v('There\'s already a package called "vuepress" registered')]),e._v(".\nYou already have VuePress registered:")]),e._v(" "),s("ul",[s("li",[e._v("If you already link VuePress from "),s("a",{attrs:{href:"#link"}},[e._v("Link")]),e._v(". It’s totally fine. If you make changes because it is symlink you dont have to re run something. You will have to rerun yarn tsc if you update shared-utils package. Nothing more")]),e._v(" "),s("li",[e._v("If you didn’t do anything. You already have VuePress linked somewhere. What you have to do is deleting folder where you ran "),s("code",[e._v("yarn link")]),e._v(" or "),s("code",[e._v("yarn unlink")]),e._v(".")])]),e._v(" "),s("h2",{attrs:{id:"more"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#more"}},[e._v("#")]),e._v(" More")]),e._v(" "),s("p",[e._v("You will have interesting commands available:")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("yarn packages:list")]),e._v(" will list you every packages present and their versions "),s("a",{attrs:{href:"https://github.com/lerna/lerna/tree/master/commands/list#readme",target:"_blank",rel:"noopener noreferrer"}},[e._v("More..."),s("OutboundLink")],1)]),e._v(" "),s("li",[s("code",[e._v("yarn packages:changed")]),e._v(" will tell you which package will be affect by the next lerna publish / version "),s("a",{attrs:{href:"https://github.com/lerna/lerna/tree/master/commands/changed#readme",target:"_blank",rel:"noopener noreferrer"}},[e._v("More..."),s("OutboundLink")],1)]),e._v(" "),s("li",[s("code",[e._v("yarn packages:diff")]),e._v(" will show you all diff from last release "),s("a",{attrs:{href:"https://github.com/lerna/lerna/tree/master/commands/diff#readme",target:"_blank",rel:"noopener noreferrer"}},[e._v("More..."),s("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=r.exports}}]);